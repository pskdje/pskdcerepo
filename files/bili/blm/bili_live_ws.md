# bili_live_ws.py 的文档

> **注意**：程序使用了Python 3.10的语法，不向下兼容。

提示: 目前不登录将不显示用户昵称。

提示: 现在心跳包回复视情况显示人气值。

## 参数

见帮助信息，此处仅写下帮助信息里不好描述的参数选项。

程序允许使用 `@` 来引入参数文件。

### --sessdata

会话数据

支持直接传入和文件路径。

使用该参数必须同时使用 `--uid` 参数，否则依然处于未登录状态。

目前文件支持单纯存储SESSDATA和cookie.txt。相关解析代码比较简单，请注意确认格式是否正确。

**注意**: SESSDATA会记录在错误文件内！

示例:

```shell
# 直接传入
python bili_live_ws.py --sessdata SESSDATA --uid 0 23058

# 使用文件
python bili_live_ws.py --sessdata FILEPATH --uid 0 23058
```

**注意**: 文件过大将拒绝执行。

### --uid

用户UID(mid)

默认值: 0

使用该参数时必须同时提供 `--sessdata` 参数，否则连接将关闭。

使用某个UID登录后获取的SESSDATA拿到这里使用时必须正确填写这个UID，否则连接将关闭。
这里不提供获取教程，你可以不使用登录信息。

### --shielding-words

屏蔽词，要完全匹配弹幕文本。

一行一条，遇到空行将停止解析。

允许使用 `#` 来写入注释文本。注意： `#` 前面不能有其它字符。

### --blocking-rules

屏蔽规则，使用正则表达式。

一行一条，遇到空行将停止解析。

允许使用 `#` 来写入注释文本。注意： `#` 前面不能有其它字符。

## 可能引起连接关闭的情况

### 网络问题

最常见的引起连接关闭的情况就是网络问题。包括网络连接缓慢、切换网络、连接不稳定等。

### 服务器问题

当前已知提供的UID和会话SESSDATA信息不匹配时会引发连接关闭，包括会话信息过期。

一旦提供了UID，就必须提供SESSDATA。经测试，只提供了SESSDATA不会使连接关闭，但会处于未登录状态（即使提供了无效的数据也一样）。只提供UID却会使连接关闭。
